<mat-card>
  <mat-card-title *ngIf="title">{{ title }}</mat-card-title>
  <form class="dynamic-form" (ngSubmit)="submit($event)" [formGroup]="form">
    <div class="dynamic-form__body">
      <div class="dynamic-form__row" *ngFor="let field of fields">
        <app-field [field]="field" [form]="form"></app-field>
      </div>
    </div>

    <mat-card-actions>
      <button mat-button class="dynamic-form__cancel-button" type="button" (click)="cancel()">Cancel</button>
      <button mat-button class="dynamic-form__submit-button" type="submit" [disabled]="!form.valid">{{ submitLabel }}</button>
    </mat-card-actions>

  </form>

  <div *ngIf="payLoad" class="dynamic-form__payload">
    <strong>Saved the following values</strong><br>{{payLoad}}
  </div>

  <ng-content></ng-content>
</mat-card>
